{% extends "article.html" %}
{% import "macro_heading.html" as headings %}
{% import "macro_media.html" as media %}
{% import "slider_js.html" as slider %}
{% set article = pages|first %}

{% block article_css_link %}
    {% include "slider_link.html" %}
{% endblock article_css_link %}

{% block js_link %}
    {{ slider.js( article.mediabar ) }}
{% endblock js_link %}


    
{% block page_title %}
    {{ article.title }}
{% endblock %}
    
{% block article_pages %}
    {% set numyoutube = article.mediabar|length %}
    {% if numyoutube is compare( ">", 0 ) %}
        <article id="mediabar">
            {% call headings.article() %}
                {{ article.title }} Media 
            {% endcall %}
			<ul id="slider1">
                {% for data in article.mediabar %}
                    <li>
                        {% if data.type is equalto( "youtube" ) %}
                            {{ media.youtube( data.src ) }}
                        {% elif data.type is equalto( "image" ) %}
                            {{ media.image( data.src ) }}
                        {% elif data.type is equalto( "gametrailer" ) %}
                            {{ media.gametrailer( data.src ) }}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </article>
    {% endif %}

    <article id="summary">
        {% call headings.article() %}
            {{ article.title|title }}
            Summary
        {% endcall %}
        {{ article.html|safe }}
    </article>
{% endblock %}
